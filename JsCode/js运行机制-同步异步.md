# js运行机制-同步异步

### 一.如何理解单线程?

同一时间做一件事，避免dom渲染冲突。

### 二.什么是事件轮询 event loop?

简单来说就是先执行同步任务

当遇到异步任务时，会将其放到异步任务队列中

待同步任务执行完之后，就会去任务队列中看看有没有异步任务。

### 三.几个容易考到的异步任务

1.setTimeout

```javascript
for(var i=0;i<10;i++){
setTimeout(()=>{
console.log(i)  
},1000)
}
```

浏览器自上而下执行，先执行同步任务，发现setTimeout时并不会立即将其放到异步队列中，而是将它放到一个叫做timer的模块，当1s中之后会将其放到异步队列中。

循环很快，但是1s之后才会将一个定时器放到异步队列中，然后此时同步任务已经执行完毕，所以就会去异步队列中看看有没有异步任务，发现有一个定时器就会去执行，此时i已经变成10了，所以打印10，如此循环。

主要注意点是(时间到了才放到异步任务队列中，并不是一开始就放进去)。

2.promise

promise中的then()和定时器有区别，promise类似next tick() 可以把它理解为在同步任务和异步任务之间的一个任务，同步任务执行完会立即执行next tick().

```
setTimeout(()=>{
console.log(1);
},0)
let a=new Promise((resolve,reject)=>{
resolve(2);
});
a.then((num)=>{
console.log(num)
});
```



